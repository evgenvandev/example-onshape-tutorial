(((Курсы по Onshape, ветвление и слияние)))
[[_course_base_branching_and_merging]]
=== Ветвление и слияние

.Ветвление и слияние
image::images/branching_and_merging_title.jpg[]
(((Курсы по Onshape, ветвление и слияние, рабочие пространства Onshape)))
[[_course_base_branching_and_merging_workspaces_onshape]]
==== Рабочие пространства Onshape

Что такое рабочее пространство? Ключевые моменты: 

- Работа с деталями, сборками, чертежами и импортированными данными осуществляется в рабочих пространствах.
- Один документ может содержать несколько рабочих пространств.
- Рабочие области внутри одного документа полностью независимы друг от друга.
- Рабочие пространства можно рассматривать как "песочницы", где инженеры могут экспериментировать с новыми вариантами дизайна, не опасаясь нарушить остальную работу.

.Что такое рабочее пространство?
video::video/what_is_a_workspace_rus.mp4[width=640]

Описание

Давайте обсудим концепцию рабочего пространства в Onshape. 
Все, что мы делали до сих пор в Onshape, было сделано в одном рабочем пространстве. 
По умолчанию это рабочее пространство называется *_Main_*. 
Рабочее пространство в Onshape — это место, где вы выполняете свою работу, создавая и редактируя детали, сборки, чертежи и импортируя данные. 
Это отличается от версии тем, что версия фиксирует момент времени рабочего пространства, который нельзя изменить. 
Имя рабочей области можно увидеть рядом с именем документа на панели инструментов "Документ". 
Вы также можете увидеть рабочее пространство, в котором вы активно работаете, просмотрев график "Версии и история" на панели инструментов. 
Рабочее пространство обозначено белой точкой. 
Разницу между рабочей областью и версией можно определить по сплошной точке для версий на графике. 
Белая точка обозначает рабочее пространство, сплошная точка обозначает версию. 

Итак, мы установили, что когда вы работаете в Onshape с новым документом, по умолчанию вы работаете в рабочем пространстве, которое называется *_Main_*. 
Но почему это важно?
Это важно, поскольку в одном документе Onshape может быть несколько рабочих пространств. 
В Onshape вы можете создать ответвление от существующей версии и отдельное рабочее пространство. 
Так почему же это может быть полезно? 

Представьте, что у вас есть готовый дизайн, с которым вы хотите поэкспериментировать. 
Легко ответвиться от готовой версии к отдельному рабочему пространству, внести все необходимые изменения, и это не повлияет на исходную ветку. 
Думайте об этом отдельном рабочем пространстве как о "песочнице", независимой от оригинала, где вы можете делать все, что захотите. 
Помните, что эти рабочие пространства НЕ являются копиями файлов, любое созданное вами рабочее пространство принадлежит Документу и находится в нем. 

Важно отметить, что эти рабочие пространства независимы друг от друга. 
Вы можете добавлять, удалять или изменять элементы, детали, сборки, чертежи и даже целые вкладки, и это не повлияет на другие рабочие пространства. 

Другой сценарий, который следует рассмотреть, — это два инженера, которые хотят одновременно поэкспериментировать с конструкцией. 
Каждый из них хочет экспериментировать со своими собственными вариантами, поэтому разделение на отдельные рабочие пространства для каждого инженера дает им независимое место для работы и не мешает друг другу. 
Вы даже можете объединить эксперименты, созданные в отдельных рабочих пространствах, в одно. 
В будущем мы более подробно поговорим о ветвлении и слиянии. 

(((Курсы по Onshape, ветвление и слияние, ветви)))
[[_course_base_branching_and_merging_branches]]
==== Ветви

Ветви. Ключевые моменты: 

- Ветви используются для создания нескольких рабочих пространств в одном документе.
- Ветви — это не файлы и не копии. Они все находятся в одном Документе.
- Ветви полностью независимы друг от друга. Между ветвями нет никаких зависимостей или отношений.
- Изменения можно объединять между ветками.

.Ветви
video::video/branches_rus.mp4[width=640]

Описание

Теперь, когда мы обсудили рабочие пространства, давайте немного подробнее рассмотрим, что такое ветви и как они работают. 
Думайте о ветке как о создании отдельного рабочего пространства внутри того же документа. 
Важно отметить, что ветвь — это не копия, не файл и она не отделена от исходного документа. 
Один документ в Onshape может иметь столько независимых ветвей, сколько вам нужно. 
Каждая из этих ветвей действует как "песочница" или отдельная рабочая среда, в которой можно изменять дизайн, не затрагивая другие ветви. 

В конце ветви обычно находится рабочее пространство, в котором фиксируются все изменения. 
Вы можете создавать версии в любой новой ветке, так же как и в *_Main_* ветке. 
Если у вас есть разрешения на удаление, вы можете удалить рабочее пространство. 
Это необратимое действие, и его нельзя отменить. 
Если ветка не содержит версий, то ветка полностью удаляется. 
Если ветка содержит версии, то удаление рабочей области ограничивает ветку последней версией. 
Дальнейшие правки в этой ветке невозможны. 
Создание веток объясняется в следующем видео.

Последнее, что следует упомянуть о ветвях, между ветвями нет родительско-дочерних связей. 
Помните, что вы отходите от существующей версии, которая неизменна. 
Её нельзя изменить. 
Изменения, внесенные в одном рабочем пространстве, не распространяются на другие. 

Думайте о ветке как о независимом пространстве, где отдельный человек или команда могут экспериментировать с дизайном, не влияя на другие ветки. 
В будущем мы обсудим создание ветвей и даже способы их объединения. 

(((Курсы по Onshape, ветвление и слияние, создание ветки)))
[[_course_base_branching_and_merging_creating_branch]]
==== Создание ветки

Создание ветки. Ключевые моменты:

- Ветви должны создаваться из версии документа, а не рабочего пространства.
- Версии могут создаваться внутри ветки.
- Ветви могут быть созданы внутри другой ветки.

.Создание ветки
video::video/creating_a_branch_rus.mp4[width=640]

Описание

Теперь давайте обсудим создание ветки. 
Первое и самое важное, что следует помнить при создании нового рабочего пространства, ветви должны создаваться из существующих версий. 
Создать ветку из рабочего пространства невозможно. 
Это означает, что если у вашего документа еще нет версии, вам необходимо ее создать. 
В этом примере я хочу перейти от этого проекта в его текущем состоянии. 
У этого документа пока нет версии, поэтому первое, что нужно сделать, создать версию. 
Для этого нажмите значок "Создать версию" на панели инструментов, затем дайте версии имя и (при желании) добавьте описание, а затем нажмите "Создать". 

Теперь, когда версия создана, можно создать ветку. 
Для этого щелкните правой кнопкой мыши по версии и выберите опцию "Ветвь для создания рабочего пространства". 
Введите имя и описание нового рабочего пространства и нажмите "Создать". 
При выборе параметра "Открыть новое рабочее пространство" новое рабочее пространство автоматически открывается после его создания. 
Затем Onshape создает ответвление от этой версии с новым рабочим пространством. 

Загрузится новое рабочее пространство, и вы сможете вносить любые необходимые изменения, не затрагивая другие рабочие пространства. 
Теперь в Документе есть несколько рабочих пространств. 
Важно понимать, в каком рабочем пространстве вы находитесь, и как переключаться между ними. 
Самый простой способ увидеть, какое рабочее пространство активно, это посмотреть в верхней части документа. 
Рядом с названием документа обратите внимание на название рабочего пространства. 
Вы также можете увидеть активное рабочее пространство, просмотрев график версий и истории. 
Активное рабочее пространство выделено. 

Так как же переключаться между разными рабочими пространствами? 
Просто щелкните левой кнопкой мыши по ветке, которую хотите открыть. 

Обратите внимание, что в графе "Версия и история" есть два представления. 
Вы можете просмотреть все ветки или только активную ветку. 
В этом представлении отображаются все изменения и версии в активной ветке, тогда как представление "Все ветки" отображает все изменения и версии во всех ветках документа. 

Последнее, о чем следует упомянуть, это то, что ветки — это независимые рабочие пространства внутри документа, поэтому вы можете создать версию в ветке так же, как и в исходном рабочем пространстве. 
Вы можете создать ответвление от существующей версии в любой ветке. 

Ветви позволяют вам пробовать разные идеи дизайна или сотрудничать в асинхронном режиме. 
Ветви фиксируют все правки, выполненные в каждой рабочей области, включая изменения, добавления и удаления. 

(((Курсы по Onshape, ветвление и слияние, упражнение - создание рабочих пространств)))
[[_course_base_branching_and_merging_exercise_creating_workspaces]]
==== Упражнение: Создание рабочих пространств

.Упражнение: Создание рабочих пространств
image::images/branching_and_merging_creating_workspaces.jpg[]

Создание рабочих пространств в документе. Цели: 

- Ветка для создания нескольких рабочих пространств. 
- Экспериментируйте с различными вариантами дизайна перспективных объектов в каждом рабочем пространстве. 
- Ознакомьтесь с тем, как создавать и использовать версии. 

Сценарий 

Вы являетесь частью команды, разрабатывающей виджет для клиента нашей компании. 
Открытие документа на шаге 1 позволяет увидеть текущий ход выполнения проекта. 
После анализа проекта наша команда решает попробовать другой подход. 
Мы хотим удалить зубцы и добавить ручку. 
Наша команда не уверена, понравится ли клиенту наш новый подход к дизайну, поэтому нам, возможно, придется пересмотреть дизайн зубов позже. 

*_Шаг 1_* 

image::images/branching_and_merging_exercise_creating_workspaces_step-1.jpg[]

Открываем публичный документ https://cad.onshape.com/documents/58ed06812e45000f9567a25b/w/9e2ccc477664759df2616ff9/e/56eab4ad1b89049e9f305fb9["Упражнение: Создание рабочих пространств", window=_blank]

Выберите "Сделать копию" для редактирования... 

[NOTE]
====
Для лучшего обучения мы рекомендуем использовать два окна браузера: одно для выполнения этого упражнения, а другое — для работы в Onshape.
====

*_Шаг 2_*

image::images/branching_and_merging_exercise_creating_workspaces_step-2.jpg[]

Нам необходимо создать дизайн ручки в другом рабочем пространстве, чтобы к дизайну зубцов можно было легко вернуться позже. 
Для этого мы создадим ветку. 

Ветви должны создаваться из версий, а у этого документа пока нет версий, поэтому сначала мы создадим версию. 

Создайте версию image:images/icon_create_version.png[title="Новая версия"] документа и назовите её _"Teeth Design" ("Дизайн зубов")_.

*_Шаг 3_*

image::images/branching_and_merging_exercise_creating_workspaces_step-3.jpg[]

Чтобы создать еще одно рабочее пространство, откройте меню image:images/icon_version_and_history.png[title="Версии и история"] "Версии и история", щелкните правой кнопкой мыши версию Teeth Design и выберите "Ветвь для создания рабочего пространства". 

Назовите новое рабочее пространство _"Handle Design" ("Дизайн ручки")_. 

Выберите "Создать". 

*_Шаг 4_*

image::images/branching_and_merging_exercise_creating_workspaces_step-4.jpg[]

Теперь мы готовы приступить к проектированию ручки. 
Мы удалим зубцы и добавим ручку. 
Помните, геометрия всегда редактируется в _Part Studios_. 

Убедитесь, что новое рабочее пространство _Handle Design_ активно, и перейдите в _Part Studio_. 

Активная рабочая область будет выделена в меню "Версии и история", а ее имя отобразится рядом с именем документа на панели инструментов "Документ". 

*_Шаг 5_*

image::images/branching_and_merging_exercise_creating_workspaces_step-5.jpg[]

У нашего нового дизайна нет зубов. 

Чтобы удалить геометрию зубьев, удалите показанные эскизы и выбранные элементы. 

*_Шаг 6_*

image::images/branching_and_merging_exercise_creating_workspaces_step-6_rus.jpg[]

Далее нам необходимо создать эскиз ручки. 

Создайте новый эскиз image:images/icon_new_sketch.png[title="Новый эскиз"] на верхней поверхности виджета. 

Нарисуйте показанную вспомогательную image:images/icon_construction_geometry.png[title="Вспомогательная геометрия"] окружность и нормальную окружность image:images/icon_circle.png[title="Окружность"].

Ограничьте и задайте размеры двух окружностей, как показано. 

Переименуйте эскиз в _Handle Sketch (Эскиз ручки)_ и примите image:images/icon_accept.png[title="Принять"] эскиз.

Этот эскиз будет использован для выдавливания ручки и вырезания отверстия, в которое она войдет. 

*_Шаг 7_*

image::images/branching_and_merging_exercise_creating_workspaces_step-7.jpg[]

Эскиз, созданный на предыдущем этапе, будет использован дважды. 
Сначала мы используем его для создания ручки. 

Выберите команду выдавливания image:images/icon_extrude_command.png[title="Выдавить"] и используйте окружность из эскиза ручки в качестве профиля для выдавливания. 
Обязательно создайте новую деталь. 

Установите типы концов и глубину, как показано на рисунке, обязательно отметив вторую конечную позицию. 

Переименуйте элемент в _Handle Feature_.

Примите image:images/icon_accept.png[title="Принять"] операцию и переименуйте новую деталь в _Handle_.

*_Шаг 8_*

image::images/branching_and_merging_exercise_creating_workspaces_step-8.jpg[]

Теперь мы снова воспользуемся эскизом ручки, чтобы вырезать отверстие в виджете, в которое поместится ручка. 

Выберите функцию выдавливания image:images/icon_extrude_command.png[title="Выдавить"] и повторно используйте круг в эскизе ручки в качестве профиля выдавливания, на этот раз удалив материал из виджета. 

Выберите показанные опций. 

Переименуйте элемент в  _Handle Hole (Отверстие для ручки)_. 

Принять image:images/icon_accept.png[title="Принять"] элемент.

[NOTE]
====
Для ясности вид разрезан.
====

*_Шаг 9_*

image::images/branching_and_merging_exercise_creating_workspaces_step-9.jpg[]

Сборку необходимо обновить, включив в нее новую ручку. 

Переключитесь на сборку виджета, вставьте image:images/icon_insert_in_assembly.png[title="Вставить в сборку"] и соедините ручку с закрепленной image:images/icon_fastened_in_assembly.png[title="Закрепить"] ответной частью, как показано на рисунке.

*_Шаг 10_*

image::images/branching_and_merging_exercise_creating_workspaces_step-10.jpg[]

Дизайн ручки готов. 
Рекомендуется создавать версию рабочего пространства каждый раз, когда вы достигаете значимой вехи проектирования. 

Запечатлейте этот этап проектирования в ветке Handle Design с помощью версии image:images/icon_create_version.png[title="Новая версия"].

Назовите версию _Handle Added (Ручка добавлена)_.

*_Шаг 11_*

image::images/branching_and_merging_exercise_creating_workspaces_step-11.jpg[]

Рассмотрев оба варианта дизайна вместе с нашей командой, мы решили показать нашему клиенту два варианта. 
Наш клиент не одобряет ни один из дизайнов и просит нас разработать третий. 

Их новая идея включает в себя несколько отверстий, расположенных по кругу. 
Наш клиент хочет, чтобы мы сохранили эти два дизайна на всякий случай. 
Жаль, что мы взимаем фиксированную плату, а не почасовую! 

Необходимо создать еще одно рабочее пространство для проверки нового подхода к проектированию. 

Создайте еще одну ветку из версии Handle Added на ветке Handle Design. 

Назовите новое рабочее пространство _Hole Pattern Design (Проектирование схемы отверстий)_.

Выберите "Создать".

